<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chicken Shu Mai Bandung ‚Äî Mamam Food</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Fredoka:wght@600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../style.css" />
  <meta name="description" content="Chicken Shu Mai (Siomay) Bandung with Mamam‚Äôs Sate BBQ Sauce. Mobile‚Äëfriendly, compact recipe. Yield 4‚Äì5 portions." />
  <style>
    /* Compact, mobile-first recipe layout on top of site theme */
    .recipe-hero{padding:1.25rem 0}
    .recipe-grid{display:grid;grid-template-columns:1fr;gap:1rem;align-items:center}
    .recipe-photo{border-radius:16px;overflow:hidden;background:#fff}
    .yield-pill{display:inline-flex;align-items:center;gap:.4rem;background:#fff;border:1px solid #eee;border-radius:999px;padding:.35rem .7rem;font-weight:800;color:#3f3b3b}

    .recipe-sections{padding:1.25rem 0 2rem}
    .recipe-grid-2{display:grid;grid-template-columns:1fr;gap:1rem}
    .card-plain{background:#fff;border:1px solid rgba(63,59,59,.08);border-radius:16px;padding:1.25rem 1.5rem;box-shadow:0 6px 16px rgba(0,0,0,.06)}
    .card-plain h2{font-family:'Fredoka',cursive;color:var(--primary);font-size:1.25rem;margin:0 0 .5rem}

    .ing-group{margin:.5rem 0}
    .ing-group h3{margin:.4rem 0 .25rem;font-weight:800;color:#3f3b3b}
    .ing-list{display:grid;grid-template-columns:1fr;gap:.35rem;padding-left:1.1rem}

    .steps-list{counter-reset: step; list-style:none; padding-left:0}
    .steps-list li{display:grid;grid-template-columns:auto 1fr;gap:.6rem;align-items:start;margin:.45rem 0}
    .steps-list li::before{counter-increment: step; content: counter(step) "."; font-weight:900; color:var(--primary);}

    .tip{background:#fff6f6;border:1px solid #ffdede;border-radius:12px;padding:.6rem .75rem;margin-top:.8rem;color:#5a5a5a}

    @media(min-width:900px){
      .recipe-grid{grid-template-columns:1fr .9fr;gap:1.5rem}
      .recipe-grid-2{grid-template-columns:1fr 1fr}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="navbar">
    <div class="container nav-content" role="navigation" aria-label="Primary">
      <a class="logo" href="/" aria-label="Mamam Food home">
        <img src="../logo.png" onerror="this.src='../Logo.PNG'" alt="Mamam Food logo" />
      </a>
      <nav class="primary-nav">
        <a href="/index.html#why">Why Mamam</a>
        <a href="/index.html#recipes">Recipes</a>
        <a href="/index.html#faq">FAQ</a>
        <button class="nav-cta" data-open="waitlist-modal" aria-haspopup="dialog" aria-controls="waitlist-modal">Join waitlist</button>
      </nav>
    </div>
  </header>

  <main id="top">
    <!-- HERO -->
    <section class="hero recipe-hero">
      <div class="container recipe-grid">
        <div class="hero-copy">
          <h1>Chicken Shu Mai Bandung</h1>
          <div class="yield-pill" aria-label="Yield">ü•ü 4‚Äì5 portions</div>
          <div class="hero-ctas" style="margin-top:.6rem">
            <a id="back-link" class="cta-btn ghost" href="../index.html#recipes" data-fallback="../index.html#recipes">‚Üê Back</a>
            <button class="cta-btn" data-open="waitlist-modal">Get launch perks</button>
          </div>
        </div>
        <figure class="recipe-photo" aria-hidden="true">
          <img src="../Recipe3.jpg" alt="Chicken siomay with peanut sauce and lime" loading="lazy" />
        </figure>
      </div>
    </section>

    <!-- INGREDIENTS + STEPS -->
    <section class="recipe-sections">
      <div class="container recipe-grid-2">
        <section class="card-plain" id="ingredients">
          <h2>Ingredients</h2>

          <div class="ing-group">
            <h3>You'll need</h3>
            <ul class="ing-list">
              <li>200 ml Mamam‚Äôs Sate BBQ Sauce</li>
              <li>500 g boneless chicken thigh fillet</li>
              <li>90 g chayote (after squeezing out excess liquid)</li>
              <li>2 tsp salt</li>
              <li>2 tbsp granulated sugar</li>
              <li>2 tsp chicken stock powder / MSG</li>
              <li>¬Ω tsp white pepper</li>
              <li>1 egg white</li>
              <li>2 tbsp fish sauce</li>
              <li>1 tbsp minced garlic</li>
              <li>3 stalks scallions</li>
              <li>3 tbsp cooking oil</li>
              <li>100‚Äì150 ml ice cubes / ice water</li>
              <li>220 g tapioca flour</li>
              <li>40 g medium‚Äëprotein wheat flour</li>
            </ul>
          </div>

          <div class="ing-group">
            <h3>Add-Ons</h3>
            <ul class="ing-list">
              <li>Key lime (jeruk limau)</li>
            </ul>
          </div>
        </section>

        <section class="card-plain" id="steps">
          <h2>Steps</h2>
          <ol class="steps-list">
            <li>Grate the chayote finely, then squeeze out the liquid.</li>
            <li>Thinly slice the scallions, heat oil, saut√© briefly, then set aside.</li>
            <li>In a food processor, blend half of the chicken thigh, minced garlic, salt, sugar, chicken stock powder, and pepper until smooth and sticky.</li>
            <li>Add the remaining chicken, ice cubes, egg white, and fish sauce. Blend again until smooth, then transfer to a mixing bowl.</li>
            <li>Add the grated chayote, scallions with the saut√©ing oil, wheat flour, and tapioca flour. Mix until well combined.</li>
            <li>Grease a steamer with oil. Shape the mixture into balls using a spoon and place them into the steamer.</li>
            <li>Shape the siomay neatly using a fork from the sides upward, then steam for 20 minutes.</li>
            <li>Serve the chicken siomay with Mamam‚Äôs Sate BBQ Sauce and a squeeze of key lime juice.</li>
          </ol>

          <div class="tip"><strong>Tip:</strong> Warm the sauce on the stovetop: add 200 ml Mamam‚Äôs Sate BBQ Sauce to a small pan with 1‚Äì2 tbsp water. Heat on low, stirring until glossy and warm (do not boil). This gives a freshly‚Äëmade texture that coats siomay beautifully.</div>
        </section>
      </div>
    </section>

    <section class="cta-block">
      <div class="cta-content">
        <h2>Love this recipe? Join our list for launch updates & discounts.</h2>
        <button type="button" class="cta-btn-dark" data-open="waitlist-modal">Join Waitlist</button>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; <span id="year"></span> Mamam Food. All rights reserved.</p>
    </div>
  </footer>

  <!-- Waitlist Modal (same as index) -->
  <div id="waitlist-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="waitlist-title" hidden>
    <div class="modal-card">
      <button class="close" data-close aria-label="Close">√ó</button>
      <h3 id="waitlist-title">Get first dibs + launch discount</h3>
      <p class="modal-sub">Join the Mamam waitlist ‚Äî exclusive perks at launch.</p>

      <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
      <form id="waitlist-form"
        action="https://docs.google.com/forms/d/e/1FAIpQLSfjO_PI4Z9yxTVx5plGG4IVrYUAAAMLwyxVF9CmSBVuYnHZ2w/formResponse"
        method="POST" target="hidden_iframe" novalidate>
        <label class="sr-only" for="wl-email">Email</label>
        <input id="wl-email" class="input" type="email" name="entry.1663422065" placeholder="you@gmail.com" required pattern="^[^\s@]+@[^\s@]+\.[^\s@]+$" />
        <button type="submit" class="nav-cta">Join waitlist</button>
        <input type="text" name="hp_chek" tabindex="-1" autocomplete="off" style="position:absolute;left:-9999px;opacity:0;" aria-hidden="true" />
        <div id="wl-success" class="success">You‚Äôre on the list! üéâ</div>
        <div id="wl-error" class="error">Please enter a valid email.</div>
      </form>
      <small class="privacy">We‚Äôll email only about Mamam launches and promos. Unsubscribe anytime.</small>
    </div>
  </div>

  <!-- JS (reuse index behavior) -->
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Modal open/close
    document.querySelectorAll('[data-open]').forEach(el=>{
      el.addEventListener('click', (e)=>{
        e.preventDefault();
        const id = el.getAttribute('data-open');
        const modal = document.getElementById(id);
        if (modal) modal.hidden = false;
      });
    });
    const overlay = document.getElementById('waitlist-modal');
    function closeModal(){
      overlay.hidden = true;
      const form = document.getElementById('waitlist-form');
      const success = document.getElementById('wl-success');
      const errorBox = document.getElementById('wl-error');
      const submitBtn = form?.querySelector('button[type="submit"]');
      if (success) success.style.display = 'none';
      if (errorBox) errorBox.style.display = 'none';
      if (form) form.reset();
      if (submitBtn){ submitBtn.disabled = false; submitBtn.textContent = 'Join waitlist'; }
    }
    document.querySelectorAll('[data-close]').forEach(btn=>btn.addEventListener('click', closeModal));
    document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') closeModal(); });
    overlay?.addEventListener('click', (e)=>{ if (e.target.classList.contains('modal')) closeModal(); });

    // Waitlist submit ‚Üí Google Forms via hidden iframe
    const form = document.getElementById('waitlist-form');
    const submitBtn = form.querySelector('button[type="submit"]');
    const success = document.getElementById('wl-success');
    const errorBox = document.getElementById('wl-error');
    const iframe = document.getElementById('hidden_iframe');

    form.addEventListener('submit', (e) => {
      const hp = form.querySelector('input[name="hp_chek"]');
      const email = form.querySelector('input[type="email"]');
      success.style.display = 'none';
      errorBox.style.display = 'none';
      if (hp.value) { e.preventDefault(); errorBox.textContent = 'Blocked as spam.'; errorBox.style.display = 'block'; return; }
      if (!email.value || !email.checkValidity()) { e.preventDefault(); email.focus(); errorBox.textContent = 'Please enter a valid email.'; errorBox.style.display = 'block'; return; }
      submitBtn.disabled = true; submitBtn.textContent = 'Submitting‚Ä¶';
      const hiddenSubmit = document.createElement('input');
      hiddenSubmit.type = 'hidden'; hiddenSubmit.name = 'submit'; hiddenSubmit.value = 'Submit';
      form.appendChild(hiddenSubmit);
    });

    iframe.addEventListener('load', () => {
      if (submitBtn.disabled) { submitBtn.disabled = false; submitBtn.textContent = 'Join waitlist'; success.style.display = 'block'; form.reset(); }
    });

    // Robust Back button: go back if there is a same-origin referrer; otherwise fall back to Recipes section
    const backLink = document.getElementById('back-link');
    backLink?.addEventListener('click', (e) => {
      e.preventDefault();
      try {
        if (document.referrer) {
          const ref = new URL(document.referrer);
          if (ref.origin === location.origin) {
            history.back();
            return;
          }
        }
      } catch (_) { /* ignore malformed referrers */ }
      const fallback = backLink.getAttribute('data-fallback') || '../index.html#recipes';
      location.href = fallback;
    });
  </script>

  <!-- SEO: Recipe structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Recipe",
    "name": "Chicken Shu Mai Bandung",
    "alternateName": "Chicken Siomay Bandung",
    "description": "Chicken siomay Bandung style, paired with Mamam‚Äôs Sate BBQ Sauce.",
    "image": ["https://mamamfood.com/Recipe3.jpg"],
    "recipeYield": "4-5 portions",
    "recipeIngredient": [
      "500 g boneless chicken thigh fillet",
      "90 g chayote (after squeezing out excess liquid)",
      "2 tsp salt",
      "2 tbsp granulated sugar",
      "2 tsp chicken stock powder / MSG",
      "1/2 tsp white pepper",
      "1 egg white",
      "2 tbsp fish sauce",
      "1 tbsp minced garlic",
      "3 stalks scallions",
      "3 tbsp cooking oil",
      "100‚Äì150 ml ice cubes / ice water",
      "220 g tapioca flour",
      "40 g medium-protein wheat flour",
      "Sauce: 200 ml Mamam‚Äôs Sate BBQ Sauce (or as desired)",
      "Other: Key lime (jeruk limau)"
    ],
    "recipeInstructions": [
      {"@type":"HowToStep","text":"Grate the chayote finely, then squeeze out the liquid."},
      {"@type":"HowToStep","text":"Thinly slice the scallions, heat oil, saut√© briefly, then set aside."},
      {"@type":"HowToStep","text":"In a food processor, blend half of the chicken thigh, minced garlic, salt, sugar, chicken stock powder, and pepper until smooth and sticky."},
      {"@type":"HowToStep","text":"Add the remaining chicken, ice cubes, egg white, and fish sauce. Blend again until smooth, then transfer to a mixing bowl."},
      {"@type":"HowToStep","text":"Add the grated chayote, scallions with the saut√©ing oil, wheat flour, and tapioca flour. Mix until well combined."},
      {"@type":"HowToStep","text":"Grease a steamer with oil. Shape the mixture into balls using a spoon and place them into the steamer."},
      {"@type":"HowToStep","text":"Shape the siomay neatly using a fork from the sides upward, then steam for 20 minutes."},
      {"@type":"HowToStep","text":"Serve the chicken siomay with Mamam‚Äôs Sate BBQ Sauce and a squeeze of key lime juice."}
    ]
  }
  </script>
</body>
</html>
